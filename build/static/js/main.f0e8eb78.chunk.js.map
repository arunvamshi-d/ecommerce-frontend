{"version":3,"sources":["api/ProductsAPI.js","api/UserAPI.js","api/CategoriesAPI.js","GlobalState.js","components/headers/icon/menu.svg","components/headers/icon/close.svg","components/headers/icon/cart.svg","components/headers/Header.js","components/mainpages/Utils/ProductItem/BtnRender.js","components/mainpages/Utils/ProductItem/ProductItem.js","components/mainpages/Utils/Loading/Loading.js","components/mainpages/products/Filters.js","components/mainpages/products/LoadMore.js","components/mainpages/products/products.js","components/mainpages/auth/Login.js","components/mainpages/detailProduct/DetailProduct.js","components/mainpages/auth/Register.js","components/mainpages/cart/PaypalButton.js","components/mainpages/cart/Cart.js","components/mainpages/Utils/NotFound/NotFound.js","components/mainpages/history/OrderHistroy.js","components/mainpages/history/OrderDetails.js","components/mainpages/categories/Categories.js","components/mainpages/createProduct/CreateProduct.js","components/mainpages/Pages.js","App.js","index.js"],"names":["ProductsAPI","useState","products","setProducts","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","useEffect","getProducts","a","axios","get","res","data","UserAPI","token","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","setCart","history","setHistory","getUser","headers","Authorization","role","console","log","alert","response","msg","getHistory","addCart","product","check","every","item","_id","quantity","patch","CategoriesAPI","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","localStorage","getItem","refreshToken","accesstoken","setTimeout","state","userAPI","categoriesAPI","Provider","value","Header","useContext","menu","setMenu","logoutUser","removeItem","window","location","href","styleMenu","left","className","onClick","src","Menu","width","alt","to","style","Close","length","Cart","BtnRender","deleteProduct","id","images","public_id","ProductItem","handleCheck","type","checked","onChange","url","title","price","description","Loading","Filters","name","e","target","map","placeholder","toLowerCase","LoadMore","Products","loading","setLoading","isCheck","setIsCheck","forEach","post","destroyImg","delete","Login","email","password","user","setUser","onChangeInput","loginSubmit","preventDefault","setItem","onSubmit","required","autoComplete","DetailProduct","params","useParams","detailProduct","setDetailProduct","product_id","content","sold","Register","registerSubmit","PaypalButton","total","this","props","env","client","sandbox","production","currency","onError","err","onSuccess","payment","tranSuccess","onCancel","size","color","shape","label","tagline","React","Component","setTotal","reduce","prev","getTotal","addToCart","paymentID","address","textAlign","fontSize","confirm","index","splice","NotFound","OrderHistroy","items","Date","createdAt","toLocaleDateString","OrderDetails","orderDetails","setOrderDetails","recipient_name","line1","city","postal_code","country_code","margin","Categories","onEdit","setOnEdit","setId","createCategory","put","editCategory","deleteCategory","htmlFor","CreateProduct","initialState","setProduct","setImages","useHistory","param","styleUpload","display","handleDestroy","handleUpload","file","files","formData","FormData","append","handleChangeInput","handleSubmit","push","disabled","rows","Pages","path","exact","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f0e8eb78.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nfunction ProductsAPI() {\n  const [products, setProducts] = useState([]);\n  const [callback, setCallback] = useState(false);\n  const [category, setCategory] = useState(\"\");\n  const [sort, setSort] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [result, setResult] = useState(0);\n\n  useEffect(() => {\n    const getProducts = async () => {\n      const res = await axios.get(`/api/products?limit=${page* 9}&${category}&${sort}&title[regex]=${search}`);\n      setProducts(res.data.products);\n      setResult(res.data.result)\n      // console.log(res)\n    };\n    getProducts();\n  }, [callback,category,sort,search,page]);\n  return {\n    products: [products, setProducts],\n    callback: [callback, setCallback],\n    category:[category,setCategory],\n    sort:[sort, setSort],\n    search:[search, setSearch],\n    page:[page, setPage],\n    result:[result, setResult]\n  };\n}\n\nexport default ProductsAPI;\n","import {useState,useEffect} from 'react'\nimport axios from \"axios\";\nfunction UserAPI(token) {\n    const [isLogged,setIsLogged]=useState(false)\n    const [isAdmin,setIsAdmin]=useState(false)\n     const [cart,setCart]=useState([])\n     const [history,setHistory]=useState([])\n    //  const [callback,setCallback]=useState(false)\n\n    useEffect(()=>{\n        if(token){\n           const getUser=async()=>{\n               try{\n                const res=await axios.get(\"/user/infor\",{\n\n                    headers:{\n                        Authorization:token\n                    }\n                }) \n                setIsLogged(true);\n                res.data.role===1 ?  setIsAdmin(true):setIsAdmin(false)\n                setCart(res.data.cart)\n                console.log(res) \n               }catch(err){\n                   alert(err.response.data.msg)\n                console.log(err)\n               }\n           }\n           getUser(); \n        }\n    },[token])\n\n    useEffect(()=>{\n        if(token){\n            const getHistory = async()=>{\n                if(isAdmin){\n                    const res=await axios.get('/api/payment',{\n                        headers:{Authorization:token}\n                    })\n                    setHistory(res.data)\n                }\n                else{\n                    const res=await axios.get('/user/history',{\n                        headers:{Authorization:token}\n                    })\n                    setHistory(res.data)\n                }\n               \n            }\n            getHistory()\n        }\n    },[token,isAdmin])\n\n    const addCart=async(product)=>{\n         if(!isLogged) return alert(\"please Login to continue buying\")\n\n         const check = cart.every(item=>{\n             return item._id!==product._id\n         })\n          console.log(check)\n         if(check){\n             setCart([...cart,{...product,quantity:1}])\n             await axios.patch('/user/addCart',{cart:[...cart,{...product,quantity:1}]},{\n                 headers:{\n                     Authorization:token\n                 }\n             })\n         }else{\n             alert(\"this product has already been added to cart.\")\n         }\n    }\n    return {\n       isLogged: [isLogged,setIsLogged],\n       isAdmin: [isAdmin,setIsAdmin],\n       cart: [cart,setCart],\n       addCart:addCart,\n       history:[history,setHistory],\n    //    callback:[callback,setCallback]\n       \n    }\n}\n\nexport default UserAPI\n","import {useState,useEffect} from 'react'\nimport axios from \"axios\";\nfunction CategoriesAPI() {\n    const [categories,setCategories]=useState([])\n  const [callback,setCallback]=useState(false)\n    useEffect(()=>{\n         const getCategories=async()=>{\n             const res=await axios.get('/api/category')\n             setCategories(res.data)\n         }\n        //  console.log(\"hello there\")\n         getCategories()\n    },[callback])\n    return {\n        categories:[categories,setCategories],\n        callback:[callback,setCallback]\n    }\n       \n    \n}\n\nexport default CategoriesAPI\n","import React, { createContext, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport ProductsAPI from \"./api/ProductsAPI\";\nimport UserAPI from \"./api/UserAPI\";\nimport CategoriesAPI from \"./api/CategoriesAPI\";\nexport const GlobalState = createContext();\n\nexport const DataProvider = ({ children }) => {\n  const [token, setToken] = useState(false);\n\n  useEffect(() => {\n    const firstLogin=localStorage.getItem('firstLogin')\n    if(firstLogin){\n      const refreshToken = async () => {\n        const res = await axios.get(\"/user/refresh_token\");\n        setToken(res.data.accesstoken);\n  \n        setTimeout(() => {\n          refreshToken();\n        }, 10 *60*1000);\n      };\n      refreshToken();\n    }\n   \n  }, []);\n\n  const state = {\n    token: [token, setToken],\n    ProductsAPI: ProductsAPI(),\n    userAPI: UserAPI(token),\n    categoriesAPI: CategoriesAPI(),\n  };\n  return <GlobalState.Provider value={state}>{children}</GlobalState.Provider>;\n};\n","export default __webpack_public_path__ + \"static/media/menu.e8db7520.svg\";","export default __webpack_public_path__ + \"static/media/close.ea7c95d7.svg\";","export default __webpack_public_path__ + \"static/media/cart.d146d6c3.svg\";","import React,{useContext,useState} from 'react'\nimport {GlobalState} from \"../../GlobalState\"\nimport Menu from \"./icon/menu.svg\"\nimport Close from \"./icon/close.svg\"\nimport Cart from \"./icon/cart.svg\"\nimport {Link} from \"react-router-dom\"\nimport axios from 'axios'\nexport default function Header() {\n    const state=useContext(GlobalState);\n    // console.log(state.userAPI.isLogged);\n    const [isLogged]=state.userAPI.isLogged;\n    const [isAdmin]=state.userAPI.isAdmin;\n    const [cart]=state.userAPI.cart;\n    const [ menu,setMenu]=useState(false)\n\n    const logoutUser = async ()=>{\n        await axios.get('/user/logout');\n         localStorage.removeItem('firstLogin')\n        window.location.href=\"/\";\n    }\n\n    const adminRouter=()=>{\n        return (\n            <>\n            <li>\n                <Link to=\"/create_product\">Create Products</Link>\n                \n            </li>\n            <li><Link to=\"/category\">Categories</Link></li>\n            </>\n        )\n    }\n    const loggedRouter=()=>{\n        return (\n            <>\n            <li>\n                <Link to=\"/history\">History</Link>\n              \n            </li>\n            <li>  <Link to=\"/\" onClick={logoutUser}>LogOut</Link></li>\n            </>\n        )\n    }\n  \n    const styleMenu={\n          left:menu ? 0 : \"-100%\"\n    }\n    // console.log(state);\n    return (\n        <header>\n              <div className=\"menu\" onClick={()=>setMenu(!menu)}>\n                  <img src={Menu} width=\"30\"alt=\"\"/>\n              </div>\n              <div className=\"logo\">\n                  <h1>\n                      <Link to=\"/\">{isAdmin? 'Admin':'Store One'}</Link>\n                  </h1>\n              </div>\n              <ul style={styleMenu}>\n                  <li><Link to=\"/\">{isAdmin ?'Products' : 'Shop'}</Link></li>\n\n                  {isAdmin && adminRouter() }\n                  {\n                      isLogged ? loggedRouter(): \n                        <li>\n                          <Link to=\"/login\">Login âœ¥ Register</Link>\n                        </li>\n\n                  }\n                  <li onClick={()=>setMenu(!menu)}>\n                    <img src={Close} alt=\"\" className=\"menu\" width=\"30\"/>          \n                  </li>\n              </ul>\n              {\n                  isAdmin ? ' '\n                  :  <div className=\"cart-icon\">\n                  <span>{cart.length}</span>\n                    <Link to=\"/cart\">\n                    <img src={Cart} width=\"30\" alt=\"\"/></Link>\n              </div>\n              }\n              \n        </header>\n    )\n}\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {GlobalState} from \"../../../../GlobalState\";\nexport default function BtnRender({ product,deleteProduct }) {\n  const state = useContext(GlobalState);\n  // const [products]=state.ProductsAPI.products;\n  const [isAdmin] = state.userAPI.isAdmin;\n  const addCart=state.userAPI.addCart;\n  return (\n    <div className=\"row_btn\">\n      {isAdmin ? (\n        <>\n          <Link id=\"btn_buy\" to=\"#!\" onClick={()=>deleteProduct(product._id,product.images.public_id)}>\n            Delete\n          </Link>\n          <Link id=\"btn_view\" to={`/edit_product/${product._id}`}>\n            Edit\n          </Link>\n        </>\n      ) : (\n        <>\n          <Link id=\"btn_buy\" to=\"#!\" onClick={()=>addCart(product)}>\n            Buy\n          </Link>\n          <Link id=\"btn_view\" to={`/detail/${product._id}`}>\n            View\n          </Link>\n        </>\n      )}\n    </div>\n  );\n}\n","import React from 'react'\n// import { Link } from 'react-router-dom'\nimport BtnRender from './BtnRender'\n\n\nexport default function ProductItem({product,isAdmin,deleteProduct,handleCheck}) {\n    \n    return (\n        <div className=\"product_card\">\n            {\n                isAdmin && <input type=\"checkbox\" checked={product.checked}\n                onChange={()=>handleCheck(product._id)}/>\n            }\n            <img src={product.images.url} alt=\"\"/>\n            <div className=\"product_box\">\n                <h2 title={product.title}>{product.title}</h2>\n                <span>${product.price}</span>\n                <p>{product.description}</p>\n            </div>\n            <BtnRender product={product} deleteProduct={deleteProduct}/>\n        </div>\n    )\n}\n","import React from 'react'\nimport \"./loading.css\"\nexport default function Loading() {\n    return (\n        <div className=\"load-page\">\n           <div className=\"loader\">\n               <div>\n                   <div>\n                       <div>\n                           <div>\n                               <div>\n                                   <div>\n                                       <div>\n                                           <div>\n                                               <div>\n                                                   <div>\n                                                       <div></div>\n                                                   </div>\n                                               </div>\n                                           </div>\n                                       </div>\n                                   </div>\n                               </div>\n                           </div>\n                       </div>\n                   </div>\n                </div>\n            </div> \n        </div>\n    )\n}\n","import React, {useContext, useState} from 'react'\nimport {GlobalState}from \"../../../GlobalState\"\nfunction Filters() {\n       const state=useContext(GlobalState);\n       const [products,setProducts] = state.ProductsAPI.products;\n       const [categories]=state.categoriesAPI.categories;\n       const [category, setCategory] = state.ProductsAPI.category;\n       const [sort, setSort] = state.ProductsAPI.sort;\n       const [search, setSearch] = state.ProductsAPI.search;\n\n    const handleCategory=(e)=>{\n        setCategory(e.target.value)\n        setSearch(' ')\n    }\n\n\n    return (\n        <div className=\"filter_menu\">\n            <div className=\"row\">\n                <span>Filters:</span>\n                <select name=\"category\" value={category} onChange={handleCategory}>\n                    <option value=\"\">All Products</option>\n                    {\n                        categories.map(category=>(\n                            <option value={\"category=\" + category._id} key={category._id}>\n                                 {category.name}\n                            </option>\n                        ))\n                    }\n                </select>\n            </div>\n            <input type=\"text\" value={search} placeholder=\"Enter your search!\"\n            onChange={e=>setSearch(e.target.value.toLowerCase())}/>\n\n            <div className=\"row sort\">\n                <span>Sort By:</span>\n                <select  value={sort} onChange={e=>setSort(e.target.value)}>\n                    <option value=\"\">Newest</option>\n                    <option value=\"sort=oldest\">Oldest</option>\n                    <option value=\"sort=-sold\">Best Sales</option>\n                    <option value=\"sort=-price\">Price : High to Low</option>\n                    <option value=\"sort=price\">Price : Low to High</option>\n                    \n                </select>\n            </div>\n        </div>\n    )\n}\n\nexport default Filters\n","import React,{useContext} from 'react'\nimport { GlobalState } from '../../../GlobalState'\n\n\nfunction LoadMore() {\n    const state=useContext(GlobalState)\n    const [ page,setPage]=state.ProductsAPI.page;\n    const [ result,setResult]=state.ProductsAPI.result;\n    return (\n        <div className=\"load_more\">\n            {\n                result < page*9 ? \"\"\n                :\n                <button onClick={()=>setPage(page+1)}>Load more</button>\n            }\n        </div>\n    )\n}\n\nexport default LoadMore\n","import React, { useContext, useState } from \"react\";\nimport { GlobalState } from \"../../../GlobalState\";\nimport ProductItem from \"../Utils/ProductItem/ProductItem\";\nimport Loading from \"../Utils/Loading/Loading\";\nimport axios from \"axios\";\nimport Filters from \"./Filters\";\nimport LoadMore from \"./LoadMore\";\n\nfunction Products() {\n  const state = useContext(GlobalState);\n  const [products, setProducts] = state.ProductsAPI.products;\n  const [isAdmin] = state.userAPI.isAdmin;\n  const [token] = state.token;\n  const [loading, setLoading] = useState(false);\n  const [callback, setCallback] = state.ProductsAPI.callback;\n  const [isCheck, setIsCheck] = useState(false);\n\n  const handleCheck = async (id) => {\n    products.forEach((product) => {\n      if (product._id === id) {\n        product.checked = !product.checked;\n      }\n    });\n    setProducts([...products]);\n  };\n\n  const deleteProduct = async (id, public_id) => {\n    console.log(id, public_id);\n    try {\n      setLoading(true);\n      const destroyImg = await axios.post(\n        \"/api/destroy\",\n        { public_id },\n        {\n          headers: { Authorization: token },\n        }\n      );\n      const deleteProduct = await axios.delete(`/api/products/${id}`, {\n        headers: { Authorization: token },\n      });\n\n      await destroyImg;\n      await deleteProduct;\n      setCallback(!callback);\n      setLoading(false);\n    } catch (err) {\n      alert(err.response.data.msg);\n    }\n  };\n\n  const checkAll=()=>{\n      products.forEach(product=>{\n          product.checked=!isCheck\n      })\n      setProducts([...products])\n      setIsCheck(!isCheck)\n  }\n\n  const deleteAll=()=>{\n      products.forEach(product=>{\n          if(product.checked){\n              deleteProduct(product._id,product.images.public_id)\n          }\n      })\n  }\n\n  if (loading)\n    return (\n      <div>\n        <Loading />\n      </div>\n    );\n\n  return (\n    <>\n    <Filters/>\n      {isAdmin && (\n        <div className=\"delete-all\">\n          <span>Select all</span>\n          <input type=\"checkbox\" checked={isCheck} onChange={checkAll}/>\n          <button onClick={deleteAll}>Delete All</button>\n        </div>\n      )}\n      <div className=\"products\">\n        {products.map((product) => {\n          return (\n            <ProductItem\n              key={product._id}\n              product={product}\n              isAdmin={isAdmin}\n              deleteProduct={deleteProduct}\n              handleCheck={handleCheck}\n            />\n          );\n        })}\n      </div>\n      <LoadMore/>\n      {products.length === 0 && <Loading />}\n    </>\n  );\n}\n\nexport default Products;\n","import React, { useState } from \"react\";\nimport {Link} from \"react-router-dom\";\nimport axios from \"axios\";\nexport default function Login() {\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const onChangeInput=e=>{\n    const {name,value}=e.target;\n\n    setUser({...user,[name]:value})\n  }\n  const loginSubmit=async e=>{\n    e.preventDefault()\n    try{\n       await axios.post('/user/login',{...user})\n       localStorage.setItem('firstLogin',true)\n       window.location.href=\"/\";\n    } catch(err){\n        alert(err.response.data.msg)\n    }\n  }\n  return (\n    <div className=\"back\">\n    <div className=\"login-page\">\n      <form onSubmit={loginSubmit}>\n        <h2>Login</h2>\n        <input\n          type=\"email\"\n          name=\"email\"\n          required\n          placeholder=\"Email\"\n          value={user.email}\n          onChange={onChangeInput}\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          required autoComplete=\"on\"\n          placeholder=\"password\"\n          value={user.password}\n          onChange={onChangeInput}\n        />\n        <div className=\"row\">\n          <button type=\"submit\">Login</button>\n          <Link to=\"/register\">Register</Link>\n        </div>\n      </form>\n    </div>\n    </div>\n  );\n}\n","import React,{useState,useEffect,useContext} from 'react'\nimport {useParams,Link} from \"react-router-dom\";\nimport ProductItem from \"../Utils/ProductItem/ProductItem\"\n// import BtnRender from '../Utils/ProductItem/BtnRender';\nimport {GlobalState} from \"../../../GlobalState\";\nexport default function DetailProduct() {\n    const params=useParams();\n    const state=useContext(GlobalState);\n    const addCart=state.userAPI.addCart;\n    // console.log(state)\n    // console.log(state.ProductsAPI.products);\n    const [products]=state.ProductsAPI.products;\n    const [detailProduct,setDetailProduct]=useState([])\n\n    useEffect(()=>{\n        console.log('re render')\n          if(params.id){\n              products.forEach(product=>{\n                 if(product._id===params.id){\n                     setDetailProduct(product)\n                 }\n              })\n          }\n    },[params.id,products])\n    // console.log(params)\n    // console.log(detailProduct)\n    if(detailProduct.length===0) return null;\n    return (\n        <>\n        <div className=\"detail\">\n            <img src={detailProduct.images.url } alt=\"\"/>\n            <div className=\"box-detail\">\n                <div className=\"row\">\n                     <h2>{detailProduct.title}</h2>\n                     <h6>{detailProduct.product_id}</h6>\n                </div>\n                <span>${detailProduct.price}</span>\n                <p>{detailProduct.description}</p>\n                <p>{detailProduct.content}</p>\n                <p>Sold:{detailProduct.sold}</p>\n                <Link onClick={()=>addCart(detailProduct)} to=\"/cart\" className=\"cart\">Buy Now</Link>\n            </div>\n        </div>\n        <div>\n             <h2>Related products</h2> \n             <div className=\"products\">\n                {\n                    products.map(product=>{\n                        return product.category===detailProduct.category\n                        ?  <ProductItem key={product._id} product={product}/> : null\n                    })\n                }\n             </div>\n        </div>\n        </>\n    )\n}\n","import React, { useState } from \"react\";\nimport {Link} from \"react-router-dom\";\nimport axios from \"axios\";\nexport default function Register() {\n  const [user, setUser] = useState({\n      name:'',\n    email: \"\",\n    password: \"\",\n  });\n  const onChangeInput=e=>{\n    const {name,value}=e.target;\n\n    setUser({...user,[name]:value})\n  }\n  const registerSubmit=async e=>{\n    e.preventDefault()\n    try{\n       await axios.post('/user/register',{...user})\n       localStorage.setItem('firstLogin',true);\n       window.location.href=\"/\";\n    } catch(err){\n        alert(err.response.data.msg)\n    }\n  }\n  return (\n    <div className=\"rback\">\n    <div className=\"login-page\">\n      <form onSubmit={registerSubmit}>\n        <h2>Register</h2>\n      <input\n          type=\"text\"\n          name=\"name\"\n          required\n          placeholder=\"name\"\n          value={user.name}\n          onChange={onChangeInput}\n        />\n        <input\n          type=\"email\"\n          name=\"email\"\n          required\n          placeholder=\"Email\"\n          value={user.email}\n          onChange={onChangeInput}\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          required autoComplete=\"on\"\n          placeholder=\"password\"\n          value={user.password}\n          onChange={onChangeInput}\n        />\n        <div className=\"row\">\n          <button type=\"submit\">Register</button>\n          <Link to=\"/login\">Login</Link>\n        </div>\n      </form>\n    </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\n \nexport default class PaypalButton extends React.Component {\n    render() {\n        const onSuccess = (payment) => {\n            // Congratulation, it came here means everything's fine!\n            \t\tconsole.log(\"The payment was succeeded!\", payment);\n            \t\t// You can bind the \"payment\" object's value to your state or props or whatever here, please see below for sample returned data\n                 this.props.tranSuccess(payment)\n                }\n \n        const onCancel = (data) => {\n            // User pressed \"cancel\" or close Paypal's popup!\n            console.log('The payment was cancelled!', data);\n            // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\n        }\n \n        const onError = (err) => {\n            // The main Paypal's script cannot be loaded or somethings block the loading of that script!\n            console.log(\"Error!\", err);\n            // Because the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\"\n            // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\n        }\n \n        let env = 'sandbox'; // you can set here to 'production' for production\n        let currency = 'USD'; // or you can set this value from your props or state\n        let total = this.props.total; // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\n        // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\n \n        const client = {\n            sandbox:'Af3MANrdxkbhb-7jB8HPaVekVKh0xyjT6DCty8KWuhQuZ7AaLVm3Dm375Zi0F6OQgF5WcieWx4NFHfmN',\n            production: 'YOUR-PRODUCTION-APP-ID',\n        }\n        // In order to get production's app-ID, you will have to send your app to Paypal for approval first\n        // For sandbox app-ID (after logging into your developer account, please locate the \"REST API apps\" section, click \"Create App\"):\n        //   => https://developer.paypal.com/docs/classic/lifecycle/sb_credentials/\n        // For production app-ID:\n        //   => https://developer.paypal.com/docs/classic/lifecycle/goingLive/\n \n        // NB. You can also have many Paypal express checkout buttons on page, just pass in the correct amount and they will work!\n        let style={\n            size:\"small\",\n            color:\"blue\",\n            shape:\"rect\",\n            label:\"checkout\",\n            tagline:false\n        }\n       \n        return (\n        \n            <PaypalExpressBtn\n             env={env} client={client}\n              currency={currency} \n              total={total} onError={onError} \n              onSuccess={onSuccess} onCancel={onCancel}\n              style={style} />\n        );\n    }\n}","import React, { useContext, useState, useEffect } from \"react\";\nimport { GlobalState } from \"../../../GlobalState\";\nimport axios from \"axios\";\nimport \"./cart.css\";\nimport PaypalButton from \"./PaypalButton\"\nexport default function Cart() {\n  const state = useContext(GlobalState);\n  const [cart, setCart] = state.userAPI.cart;\n  const [token]=state.token\n  const [total, setTotal] = useState(0);\n  // const [callback,setCallback]=state.userAPI.callback;\n  console.log(state.userAPI.callback)\n\n  useEffect(() => {\n    const getTotal = () => {\n      const total = cart.reduce((prev, item) => {\n        return prev + item.price * item.quantity;\n      }, 0);\n\n      setTotal(total);\n    };\n    getTotal();\n  }, [cart]);\n\n  const addToCart=async(cart)=>{\n    await axios.patch('/user/addcart',{cart},{\n      headers:{\n        Authorization: token\n      }\n    })\n  }\n\n  const increment = (id) => {\n    cart.forEach((item) => {\n      if (item._id === id) {\n        item.quantity += 1;\n      }\n    });\n    setCart([...cart]);\n    addToCart(cart)\n  };\n  \n  const decrement = (id) => {\n    cart.forEach((item) => {\n      if (item._id === id) {\n        item.quantity === 1 ? (item.quantity = 1) : (item.quantity -= 1);\n      }\n    });\n    setCart([...cart]);\n    addToCart(cart)\n  };\n\n  const removeProduct = (id) => {\n    if (window.confirm(\"Do you want to delete this product?\")) {\n      cart.forEach((item, index) => {\n        if (item._id === id) {\n          cart.splice(index, 1);\n        }\n      });\n      setCart([...cart]);\n      addToCart(cart);\n    }\n  };\n\n  const tranSuccess=async (payment)=>{\n      // console.log(payment)\n      const {paymentID,address}=payment;\n    const res=  await axios.post(\"/api/payment\",{cart, paymentID,address\n      },{\n        headers:{\n          Authorization :token\n        }\n      })\n      console.log(res);\n      \n      setCart([])\n      addToCart([])\n      alert(\"You have successfully placed an order\")\n      // setCallback(!callback)\n  }\n\n  if (cart.length === 0)\n    return (\n      <h2 style={{ textAlign: \"center\", fontSize: \"5rem\" }}>Cart Empty</h2>\n    );\n  return (\n    <div>\n      {cart.map((product) => (\n        <div key={product._id} className=\"detail cart\">\n          <img src={product.images.url} alt=\"\" />\n\n          <div className=\"box-detail\">\n            <h2>{product.title}</h2>\n\n            <h3>${product.price * product.quantity}</h3>\n            <p>{product.description}</p>\n            <p>{product.content}</p>\n            <div className=\"amount\">\n              <button onClick={() => decrement(product._id)}>-</button>\n              <span>{product.quantity}</span>\n              <button onClick={() => increment(product._id)}>+</button>\n             </div>\n            <div onClick={() => removeProduct(product._id)} className=\"delete\">\n              X\n            </div>\n          </div>\n        </div>\n      ))}\n      <div className=\"total\">\n        <h3>Total : ${total}</h3>\n        <PaypalButton total={total}\n        tranSuccess={tranSuccess}/>\n      </div>\n    </div>\n  );\n}\n","import React from 'react'\n\nfunction NotFound() {\n    return (\n        <div>\n            404 | not found\n        </div>\n    )\n}\n\nexport default NotFound\n","import React,{useContext,useEffect} from 'react'\nimport { GlobalState } from '../../../GlobalState'\nimport { Link } from 'react-router-dom'\nimport axios from \"axios\"\nfunction OrderHistroy() {\n    const state=useContext(GlobalState);\n    const [isAdmin]=state.userAPI.isAdmin;\n    const [token]=state.token;\n    const [history, setHistory] = state.userAPI.history\n\nuseEffect(()=>{\n    if(token){\n        const getHistory=async()=>{\n            if(isAdmin){\n                const res=await axios.get('/api/payment',{\n                    headers:{Authorization:token}\n                })\n                setHistory(res.data)\n            }else{\n                const res=await axios.get('/user/history',{\n                    headers:{Authorization:token}\n                })\n                setHistory(res.data)\n                }\n            }\n            getHistory()\n    }\n},[token,isAdmin,setHistory])\n    return (\n        <div className=\"history-page\">\n            <h2>History</h2>\n            <h4>You have {history.length} ordered</h4>\n                 <table>\n                    <thead>\n                        <tr>\n                            <th>PaymentID</th>\n                            <th>Date of Purchase</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                       {\n                           history.map(items=>(\n                               <tr key={items._id}>\n                                <td>{items.paymentID}</td>\n                                <td>{new Date(items.createdAt).toLocaleDateString()}</td>\n                                <td><Link to={`/history/${items._id}`}>View</Link></td>\n                               </tr>\n                           ))\n                       }               \n                    </tbody>\n                </table>\n        </div>\n    )\n}\n\nexport default OrderHistroy\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router\";\nimport { GlobalState } from \"../../../GlobalState\";\n\nfunction OrderDetails() {\n  const state = useContext(GlobalState);\n  const [history] = state.userAPI.history;\n  const [orderDetails, setOrderDetails] = useState([]);\n\n  const params = useParams();\n\n  useEffect(() => {\n    if (params.id) {\n      history.forEach((item) => {\n        if (item._id === params.id) {\n          setOrderDetails(item);\n        }\n      });\n    }\n  }, [params.id, history]);\n\n//   console.log(orderDetails);\n\n  if (orderDetails.length === 0) return null;\n\n  return (\n    <div className=\"history-page\">\n      <table>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Address</th>\n            <th>Postal Code</th>\n            <th>Country Code</th>\n          </tr>\n        </thead>\n        <tbody>\n         <tr>\n             <td>{orderDetails.address.recipient_name}</td>\n             <td>{orderDetails.address.line1 + \" - \" + orderDetails.address.city}</td>\n             <td>{orderDetails.address.postal_code}</td>\n             <td>{orderDetails.address.country_code}</td>\n         </tr>\n        </tbody>\n      </table>{\" \"}\n      <table style={{margin:\"30px 0px\"}}>\n        <thead>\n          <tr>\n            <th></th>\n            <th>Products</th>\n            <th>Quantity</th>\n            <th>Price</th>\n          </tr>\n        </thead>\n        <tbody>\n            {\n                orderDetails.cart.map(item=>(\n                <tr key={item._id}>\n                    <td><img src={item.images.url} alt=\"\"/></td>\n                    <td>{item.title}</td>\n                    <td>{item.quantity}</td>\n                    <td>$ {item.price * item.quantity}</td>\n                </tr>\n                ))\n            }\n        \n        </tbody>\n      </table>{\" \"}\n    </div>\n  );\n}\n\nexport default OrderDetails;\n","import React ,{useState,useContext} from 'react'\nimport { GlobalState } from '../../../GlobalState'\nimport \"./categories.css\";\nimport axios from \"axios\"\nfunction Categories() {\n    const state=useContext(GlobalState);\n    const [categories]=state.categoriesAPI.categories;\n    const [category,setCategory]=useState('');\n    const [token]=state.token;\n    const [callback,setCallback]=state.categoriesAPI.callback;\n    const [onEdit,setOnEdit]=useState(false)\n    const [id,setId]=useState('')\n\n    const createCategory=async(e)=>{\n          e.preventDefault()\n          try{\n              if(onEdit){\n                const res = await axios.put(`/api/category/${id}`,{name:category},{\n                    headers:{Authorization:token}\n                })\n               \n                alert(res.data.msg)\n              }else{\n                const res = await axios.post(\"/api/category\",{name:category},{\n                    headers:{Authorization:token}\n                })\n               \n                alert(res.data.msg)\n              }\n              setOnEdit(false)\n              setCategory('')\n              setCallback(!callback)\n          }catch(err){\n              alert(err.response.data.msg)\n          }\n    }\n    const editCategory=async(id,name)=>{\n         setId(id)\n         setCategory(name)\n         setOnEdit(true)\n    }\n\n    const deleteCategory=async(id)=>{\n        try{\n          const res= await axios.delete(`/api/category/${id}`,{\n              headers:{\n                  Authorization:token\n              }\n          })\n          alert(res.data.msg)\n          setCallback(!callback)\n        }catch(err){\n            alert(err.response.data.msg)\n        }\n       \n    }\n    return (\n        <div className=\"categories\">\n            <form onSubmit={createCategory}>\n                <label htmlFor=\"category\">Category</label>\n                <input type=\"text\" name=\"category\" value={category} required\n                onChange={e=>setCategory(e.target.value)}/>\n                <button type=\"submit\">{onEdit ? 'Update' :'Create'}</button>\n            </form>\n            <div className=\"col\">\n                {\n                    categories.map(category=>(\n                        <div className=\"row\" key={category._id}>\n                           <p>{category.name}</p>\n                           <div>\n                            <button onClick={()=>editCategory(category._id,category.name)}>Edit</button>\n                            <button onClick={()=>deleteCategory(category._id)}>Delete</button>\n                        </div>\n                        </div>    \n                    ))\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Categories\n","import React, { useEffect, useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport { GlobalState } from \"../../../GlobalState\";\nimport Loading from \"../Utils/Loading/Loading\";\nimport {useHistory,useParams} from \"react-router-dom\"\n\n\nfunction CreateProduct() {\n  const initialState = {\n    product_id: \"\",\n    title: \"\",\n    price: 0,\n    description:\n      \"This product is going to create a revolution the market so that it can change a huge in industry\",\n    content:\n      \"The people who studying MERN stack will going to have a great future in the IT industry\",\n    category: \"\",\n    _id:''\n  };\n  const state = useContext(GlobalState);\n  const [product, setProduct] = useState(initialState);\n  const [categories] = state.categoriesAPI.categories;\n  const [images, setImages] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const [isAdmin]=state.userAPI.isAdmin;\n  const [token] = state.token;\n\n  const history=useHistory();\n  const param=useParams();\n\n  const [products]=state.ProductsAPI.products\n  const [onEdit,setOnEdit]=useState(false)\n  const [callback,setCallback]=state.ProductsAPI.callback\n\n\n  useEffect(()=>{\n    if(param.id){\n      setOnEdit(true)\n          products.forEach(product=>{\n            if(product._id === param.id) {\n              setProduct(product)\n              setImages(product.images)\n            }\n          })\n         \n         }\n          else{\n            setOnEdit(false)\n              setProduct(initialState)\n              setImages(false)\n            }\n          \n    \n  },[param.id,products])\n\n  const styleUpload = {\n    display: images ? \"block\" : \"none\",\n  };\n   const handleDestroy=async e =>{\n      try{\n          if(!isAdmin) return alert(\"You are not an admin\")\n          setLoading(true)\n          await axios.post('/api/destroy',{\n            public_id:images.public_id},{\n              headers:{\n                Authorization:token\n              }\n            })\n            setLoading(false)\n            setImages(false)\n      }catch(err){\n        alert(err.response.data.msg)\n\n      }\n   }\n\n  const handleUpload=async e=>{\n    e.preventDefault()\n    try{\n       if(!isAdmin)return alert('You are not an admin')\n       const file=e.target.files[0]\n       console.log(file)\n       if(!file)return alert('File not exist.');\n       if(file.size > 1024 *1024){\n         return alert(\"file size is too large\")\n       }\n       if(file.type !== 'image/jpeg' && file.type !== 'image/png'){\n         return alert(\"file format is incorrect\")\n       }\n\n       let formData = new FormData()\n       formData.append('file',file)\n\n       setLoading(true)\n\n       const res=await axios.post('/api/upload',formData,{\n         headers:{\n           'content-type':'multipart/form-data',\n             Authorization:token\n          }\n       })\n         setLoading(false)\n         setImages(res.data)\n      //  console.log(res);\n    }catch(err){\n      alert(err.response.data.msg)\n    }\n  }\n\n  const handleChangeInput=e=>{\n    const {name,value} = e.target;\n    setProduct({...product,[name]:value})\n  }\n\n  const handleSubmit=async e=>{\n    e.preventDefault();\n    try{\n      if(!isAdmin)return alert('You are not an admin')\n     if(!images) return alert('Image is required!')\n     if(onEdit){\n      await axios.put(`/api/products/${product._id}`,{...product,images},{\n        headers:{\n          Authorization:token\n        }\n      })\n     }else{\n      await axios.post('/api/products',{...product,images},{\n        headers:{\n          Authorization:token\n        }\n      })\n     }\n     setCallback(!callback)\n    //  setImages(false)\n    //  setProduct(initialState)\n     history.push(\"/\")\n    }catch(err){\n      alert(err.response.data.msg)\n    }\n  }\n  return (\n    <div className=\"create_product\">\n      <div className=\"upload\">\n        <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload} />\n        {\n          loading ? \n          <div id=\"file_img\" > <Loading/> </div>\n          :<div id=\"file_img\" style={styleUpload}>\n               <img src={images ? images.url : ''} alt=\"\" />\n              <span onClick={handleDestroy}>X</span>\n        </div>  \n        } \n      </div>\n      <form onSubmit={handleSubmit}>\n        <div className=\"row\">\n          <label htmlFor=\"product_id\">Product ID</label>\n          <input\n            type=\"text\"\n            name=\"product_id\"\n            id=\"product_id\"\n            required disabled={onEdit}\n            onChange={handleChangeInput}\n            value={product.product_id}\n          />\n        </div>\n        <div className=\"row\">\n          <label htmlFor=\"title\">Title</label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            id=\"title\"\n            required\n            onChange={handleChangeInput}\n            value={product.title}\n          />\n        </div>\n        <div className=\"row\">\n          <label htmlFor=\"price\">Price</label>\n          <input\n            type=\"number\"\n            name=\"price\"\n            id=\"price\"\n            required\n            onChange={handleChangeInput}\n            value={product.price}\n          />\n        </div>\n        <div className=\"row\">\n          <label htmlFor=\"description\">Description</label>\n          <textarea\n            type=\"text\"\n            name=\"description\"\n            id=\"description\"\n            required\n            rows=\"5\"\n            onChange={handleChangeInput}\n            value={product.description}\n          />\n        </div>\n        <div className=\"row\">\n          <label htmlFor=\"content\">Content</label>\n          <textarea\n            type=\"text\"\n            name=\"content\"\n            id=\"content\"\n            required\n            rows=\"7\"\n            onChange={handleChangeInput}\n            value={product.content}\n          />\n        </div>\n        <div className=\"row\">\n          <label htmlFor=\"categories\">Categories : </label>\n          <select name=\"category\" value={product.category}   onChange={handleChangeInput}>\n            <option value=\"\">Please select a category</option>\n            {categories.map((category) => (\n              <option value={category._id} key={category._id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n        </div>\n        <button type=\"submit\">{onEdit ? \"Update\" : \"Create\"}</button>\n      </form>\n    </div>\n  );\n}\n\nexport default CreateProduct;\n","import React ,{useContext} from 'react'\nimport {Switch,Route} from \"react-router-dom\"\nimport Products from './products/products'\nimport Login from './auth/Login'\nimport DetailProduct from './detailProduct/DetailProduct'\nimport Register from './auth/Register'\nimport Cart from './cart/Cart'\nimport NotFound from \"./Utils/NotFound/NotFound\"\nimport {GlobalState} from \"../../GlobalState\"\nimport OrderHistroy from './history/OrderHistroy'\nimport OrderDetails from './history/OrderDetails'\nimport Categories from './categories/Categories'\nimport CreateProduct from './createProduct/CreateProduct'\nexport default function Pages() {\n    const state=useContext(GlobalState)\n    const [isLogged]=state.userAPI.isLogged;\n    const [isAdmin]=state.userAPI.isAdmin;\n    return (\n       <Switch>\n\n           <Route path=\"/\"exact component={Products} />\n\n           <Route path=\"/detail/:id\"exact component={DetailProduct} />\n\n           <Route path=\"/login\"exact component={isLogged? NotFound : Login}  />\n\n           <Route path=\"/register\"exact component={isLogged? NotFound :Register} /> \n\n           <Route path=\"/category\"exact component={isAdmin? Categories :NotFound} />\n           \n           <Route path=\"/create_product\"exact component={isAdmin? CreateProduct :NotFound} /> \n           \n           <Route path=\"/edit_product/:id\"exact component={isAdmin? CreateProduct :NotFound} /> \n\n           <Route path=\"/history\"exact component={isLogged?  OrderHistroy : NotFound} />\n\n           <Route path=\"/history/:id\"exact component={isLogged?  OrderDetails : NotFound} />\n\n           <Route path=\"/cart\"exact component={Cart} />\n\n           <Route path=\"*\" exact component={NotFound}/>\n           \n       </Switch>\n    )\n}\n","import React from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Header from \"./components/headers/Header\";\nimport MainPages from \"./components/mainpages/Pages\";\nimport { DataProvider } from \"./GlobalState\";\nfunction App() {\n  return (\n    <DataProvider>\n      <Router>\n      <div className=\"App\">\n        <Header/>\n        <MainPages/>\n      </div>\n      </Router>\n    </DataProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />\n  ,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}